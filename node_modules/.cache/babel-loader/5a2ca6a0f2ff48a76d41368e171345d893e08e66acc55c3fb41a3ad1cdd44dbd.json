{"ast":null,"code":"var _jsxFileName = \"/home/loic/Documents/old/ubuntu/tpundeux/src/components/Recettes.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState, useEffect } from \"react\";\nimport Card from './Card';\nimport Filter from './Filter';\nimport axios from 'axios';\nimport './Recettes.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Recettes = () => {\n  _s();\n  const [recettes, setRecettes] = useState([]);\n  const [origineFilter, setOrigineFilter] = useState([]);\n  const [recherche, setRecherche] = useState('');\n  const [filteredRecettes, setFilteredRecettes] = useState([]);\n  useEffect(() => {\n    axios.get('https://www.themealdb.com/api/json/v1/1/search.php?s=' + recherche).then(res => {\n      if (res.data.meals != null) {\n        setRecettes(res.data.meals);\n        for (let meal of recettes) {\n          let check = false;\n          for (let savedOrigine of origineFilter) {\n            if (meal['strArea'] == savedOrigine) {\n              check = true;\n            }\n          }\n          if (!check) {\n            let tempOrigineFilter = origineFilter;\n            tempOrigineFilter.push(meal['strArea']);\n            setOrigineFilter(tempOrigineFilter);\n          }\n        }\n        console.log(recettes);\n        console.log(origineFilter);\n      } else {\n        setRecettes([]);\n      }\n    });\n  }, [recherche]);\n  function handleEvent(event) {\n    let temp = [];\n    for (let meal of recettes) {\n      if (meal['strArea'] == event.target.value) {\n        temp.push(meal);\n      }\n    }\n    setFilteredRecettes(temp);\n    console.log(filteredRecettes);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"baseContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Appli Recettes de cuisine\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Tapez le nom d'un aliment (en anglais)\",\n      style: {\n        width: 50 + '%'\n      },\n      onChange: event => setRecherche(event.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      onClick: handleEvent,\n      children: origineFilter.map(prop => /*#__PURE__*/_jsxDEV(\"option\", {\n        children: prop\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cardsContainer\",\n      children: recettes.map(recette => /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"container\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          props: recette\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(Recettes, \"bToB92x1CaUz2TmAP5nywFiVWZE=\");\n_c = Recettes;\nexport default Recettes;\nvar _c;\n$RefreshReg$(_c, \"Recettes\");","map":{"version":3,"names":["React","useState","useEffect","Card","Filter","axios","Recettes","recettes","setRecettes","origineFilter","setOrigineFilter","recherche","setRecherche","filteredRecettes","setFilteredRecettes","get","then","res","data","meals","meal","check","savedOrigine","tempOrigineFilter","push","console","log","handleEvent","event","temp","target","value","width","map","prop","recette"],"sources":["/home/loic/Documents/old/ubuntu/tpundeux/src/components/Recettes.js"],"sourcesContent":["import React from 'react';\nimport { useState, useEffect } from \"react\";\nimport Card from './Card';\nimport Filter from './Filter';\nimport axios from 'axios';\nimport './Recettes.css';\n\nconst Recettes = () => {\n\n  const [recettes, setRecettes] = useState([]);\n  const [origineFilter, setOrigineFilter] = useState([]);\n  const [recherche, setRecherche] = useState('');\n  const [filteredRecettes, setFilteredRecettes] = useState([]);\n\n  useEffect(() => {\n    axios.get('https://www.themealdb.com/api/json/v1/1/search.php?s=' + recherche)\n      .then(res => {\n        if (res.data.meals != null) {\n          setRecettes(res.data.meals);\n          for (let meal of recettes) {\n            let check = false;\n            for (let savedOrigine of origineFilter) {\n              if (meal['strArea'] == savedOrigine) {\n                check = true;\n              }\n            }\n\n            if (!check) {\n              let tempOrigineFilter = origineFilter;\n              tempOrigineFilter.push(meal['strArea']);\n              setOrigineFilter(tempOrigineFilter)\n            }\n          }\n          console.log(recettes)\n          console.log(origineFilter)\n        } else {\n          setRecettes([]);\n        }\n      })\n  }, [recherche]);\n\n  function handleEvent(event) {\n    let temp = [];\n\n    for (let meal of recettes) {\n      if (meal['strArea'] == event.target.value) {\n        temp.push(meal);\n      }\n    }\n\n    setFilteredRecettes(temp);\n    console.log(filteredRecettes)\n  }\n\n  return (\n    <div className='baseContainer'>\n      <h1>Appli Recettes de cuisine</h1>\n      <input type='text' placeholder=\"Tapez le nom d'un aliment (en anglais)\" style={{width: 50 + '%'}} onChange={(event) => setRecherche(event.target.value)}/>\n      \n      <select onClick={handleEvent}>\n        {origineFilter.map(prop =>\n          <option>{prop}</option>\n        )}\n      </select>\n\n      <div className='cardsContainer'>\n        {recettes.map(recette =>\n          <div id=\"container\">\n            <Card props={recette} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Recettes;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}